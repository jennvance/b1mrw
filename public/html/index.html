<!DOCTYPE html>
<html ng-app="app">
<head>
	<title>Burn One Million Words</title>
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="/styles/style.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.js" type="text/javascript"></script>
	<script src="/js/main.js" type="text/javascript"></script>
	<script src="/js/constructors.js" type="text/javascript"></script>
	<script src="/js/main.js" type="text/javascript"></script>
</head>
<body ng-controller="wordCountroller">
	<div class="container">
		<div class="row">
			<div class="col-md-3"></div>
			<div class="col-md-6">
				<div class="centered-panel">
					<div ng-show="showloginform">
						<h2>Welcome, user! Enter your name to get started.</h2>
						<form name="loginForm" ng-submit="submitLogin()">
							<div class="form-group">
								<input class="form-control" type="text" placeholder="Your Name" ng-model="user.name" required="true">
							</div>
	 						<div class="form-group">
								<input class="form-control" type="submit" value="Get Started">
							</div>
						</form>
					</div>
					<div ng-show="showprojectform">
						<h2>Welcome, {{currentUser.name}}! You have not entered a project yet. Please enter a project.</h2>
						<form name="newProjectForm" ng-submit="submitProject()">
							<div class="form-group">
								<input class="form-control" type="text" placeholder="Project Name" ng-model="project.name" required="true">
							</div>
							<div class="form-group">
								<input class="form-control" type="number" placeholder="Word Count Goal" ng-model="project.wordGoal" required="true">
							</div>
							<div class="form-group">
								<input class="form-control" type="date" ng-init="project.date=(today)" ng-model="project.date" min="{{today | date: 'yyyy-MM-dd'}}" required="true">
							</div>
	 						<div class="form-group">
								<input class="form-control" type="submit" value="Start Project">
							</div>
						</form>
					</div>
					<div ng-show="showcountform">
						<h2>Welcome, {{currentUser.name}}! You are currently working on {{currentProject.name}}. Please enter a word count.</h2>
						<form name="addCountForm" ng-submit="submitCount()">
							<div class="form-group">
								<label for="repeatSelect"> Repeat select: </label>
								<select name="repeatSelect" id="repeatSelect" ng-model="selectData.model"ng-change="updateUI(selectData.model)">
								<option ng-repeat="option in selectData.options" value="{{option.name}}">{{option.name}}</option>
								</select>
    						</div>
							<div class="form-group">
								<input class="form-control" type="date" ng-model="count.date" required="true">
							</div>
							<div class="form-group">
								<input class="form-control" type="number" placeholder="Number of Words" ng-model="count.wordCount" required="true">
							</div>
	 						<div class="form-group">
								<input class="form-control" type="submit" value="Submit Word Count">
							</div>
						</form>
					</div>
					<div>
						<h3>Your Stats:</h3>
						<h4 ng-model="currentProject">Project {{currentProject.name}}: {{allTimeTotal}}</h4>
						<h4>Year total: {{currentYearTotal}}</h4>
						<h4>Month total: {{currentMonthTotal}}</h4>
						<h4>All time daily average: {{avgWordsPerDayAllTime}}</h4>
						<h4>Year average: {{avgWordsPerDayYear}}</h4>
						<h4>Month average: {{avgWordsPerDayMonth}}</h4>
						<h4>Words Until Goal: {{wordsUntilGoal}}</h4>
						<h4>Days Until Goal: {{daysUntilGoal}}</h4>
					</div>
					<button ng-click="showprojectform=true; showcountform=false; showloginform=false">Add New Goal</button>
					<button ng-click="showloginform=true; showcountform=false; showprojectform=false">Switch User</button>
				</div>
			</div>
			<div class="col-md-3"></div>
		</div>
	</div>






</body>
</html>